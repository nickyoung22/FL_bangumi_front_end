# 设计思路

## 整体想法

本地电脑上收集的一些资源，包括

二次元：动漫（一集或多集）、漫画（多页图片一个文件夹）

三次元：电影（一集或多集）



这些资源是已经下载好的，需要我们分类整理，并提供一个高效浏览观看的web应用。



项目分为：前端+后端



## 所有资源

后台扫描下载好的所有资源，用户需要自行添加每一项资源，指定相关信息，例如电影的种类、演员等。系统配合前端，根据数据库中的信息将资源进行展示。



所有资源，都要有标签系统，在相应资源以列表的加载后，提供标签选项卡。选择特定类型的资源。



## 电影、动漫

电影、动漫都是视频资源：

本体资源是调用本地视频播放器打开。但需要提供预览精彩片段功能。即，添加资源时，提供选择时间段生成精彩视频片段的功能。

电影本体资源不发送到前端，但是封面图片以及高能图片或视频片段会发送到前端。



## 漫画

漫画：

图片资源。构建一个web端漫画阅读器（双页阅读等模式）。



漫画相关所有图片资源都会推送到前端。

# 数据结构

## 电影

| 字段        | 含义                                               | 数据类型     | 数据来源                                                     | 代表值                                                       |
| ----------- | -------------------------------------------------- | ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| name        | 资源名，显示在列表里                               | String       | 添加资源时指定，默认同storeName                              |                                                              |
| othername   | 别名                                               | Array:string | 添加资源时指定                                               |                                                              |
| type        | 资源类型                                           | String       | 添加资源时指**选定 （有固定的待选值）**                      | ` 动漫: "2CY_anime"      漫画: "2CY_manga"      电影: "3CY_movie" ` |
| actress     | 演员的名字                                         | Array:string | 添加资源时指定                                               |                                                              |
| storeName   | 存储  名字，type与storeName一同 **唯一标识**了资源 | String       | 由资源本地存储的文件夹名字确定，即资源下载到本地后，随后放入指定目录后即确定 |                                                              |
| tags        | 类型标签，一个或多个                               | Array:string | 添加资源时指**选定 （有固定的待选值）**                      | `['冒险', '科幻']`                                           |
| hots        | 预览精彩片段的信息                                 | Array:string | 添加资源时前台指定特定时间片段以及时间点，生成相应片段。随后，后台自动扫描文件夹下chn_hots文件夹下文件信息，写入数据库 | `['prevImage1.jpg','prevVideo.mp4']`                         |
| relevant    | 相关的作品，比如同系列，上下部关系等               | Array:string | 用户指定                                                     | `[{type:1,storeName:'...'},...]`                             |
| description | 资源相关的描述信息                                 | String       | 用户输入                                                     | 一段对作品的感受等                                           |
| filenames   | 单个资源的文件夹下文件名，在前台展示，方便直接打开 | Array:string | 后台自动扫描                                                 | `['Episode 1.mp4','Episode 2.mp4']`                          |





## 动漫

同 电影



## 漫画

大部分同电影，新增以下字段：

| 字段     | 含义     | 数据类型     | 数据来源                        | 代表值                   |
| -------- | -------- | ------------ | ------------------------------- | ------------------------ |
| artist   | 漫画作者 | Array:string | 添加资源时指定，默认同storeName |                          |
| original | 原作     | Array:string | 添加资源时指定                  | `['火影忍者', '海贼王']` |

更改一些字段：

| 字段        | 含义           | 数据类型     | 数据来源       | 代表值 |
| ----------- | -------------- | ------------ | -------------- | ------ |
| ~~actress~~ | ~~演员的名字~~ | Array:string | 添加资源时指定 |        |
| character   | 角色名字       | Array:string | 添加资源时指定 |        |



